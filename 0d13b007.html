<!DOCTYPE html><html><head><meta content="text/html; charset=utf-8" http-equiv="Content-Type" /><meta content="width=device-width, initial-scale=1" name="viewport" /><!--replace-start-0--><!--replace-start-5--><!--replace-start-8--><title>Account View On UTXO Model (AVOUM) - My Zettelkasten</title><!--replace-end-8--><!--replace-end-5--><!--replace-end-0--><link href="https://cdn.jsdelivr.net/npm/fomantic-ui@2.8.7/dist/semantic.min.css" rel="stylesheet" /><link href="https://fonts.googleapis.com/css?family=Merriweather|Libre+Franklin|Roboto+Mono&amp;display=swap" rel="stylesheet" /><!--replace-start-1--><!--replace-start-4--><!--replace-start-7--><link href="https://raw.githubusercontent.com/srid/neuron/master/assets/neuron.svg" rel="icon" /><meta content="Source: https://docs.google.com/document/d/12atK0oEME0y1GHo_HmqhrcZ3pQeEqB_0tFKknhsjsLY/edit" name="description" /><link href="https://kwannoel.xyz/0d13b007.html" rel="canonical" /><meta content="Account View On UTXO Model (AVOUM)" property="og:title" /><meta content="My Zettelkasten" property="og:site_name" /><meta content="article" property="og:type" /><meta content="0d13b007" property="neuron:zettel-id" /><meta content="0d13b007" property="neuron:zettel-slug" /><meta content="stub" property="neuron:zettel-tag" /><script type="application/ld+json">[]</script><style type="text/css">body{background-color:#eeeeee !important;font-family:"Libre Franklin", serif !important}body .ui.container{font-family:"Libre Franklin", serif !important}body h1, h2, h3, h4, h5, h6, .ui.header, .headerFont{font-family:"Merriweather", sans-serif !important}body code, pre, tt, .monoFont{font-family:"Roboto Mono","SFMono-Regular","Menlo","Monaco","Consolas","Liberation Mono","Courier New", monospace !important}body div.z-index p.info{color:#808080}body div.z-index ul{list-style-type:square;padding-left:1.5em}body div.z-index .uplinks{margin-left:0.29999em}body .zettel-content h1#title-h1{background-color:rgba(165,103,63,0.1)}body nav.bottomPane{background-color:rgba(165,103,63,2.0e-2)}body div#footnotes{border-top-color:#a5673f}body p{line-height:150%}body img{max-width:100%}body .deemphasized{font-size:0.94999em}body .deemphasized:hover{opacity:1}body .deemphasized:not(:hover){opacity:0.69999}body .deemphasized:not(:hover) a{color:#808080 !important}body div.container.universe{padding-top:1em}body div.zettel-view ul{padding-left:1.5em;list-style-type:square}body div.zettel-view .pandoc .highlight{background-color:#ffff00}body div.zettel-view .pandoc .ui.disabled.fitted.checkbox{margin-right:0.29999em;vertical-align:middle}body div.zettel-view .zettel-content .metadata{margin-top:1em}body div.zettel-view .zettel-content .metadata div.date{text-align:center;color:#808080}body div.zettel-view .zettel-content h1{padding-top:0.2em;padding-bottom:0.2em;text-align:center}body div.zettel-view .zettel-content h2{border-bottom:solid 1px #4682b4;margin-bottom:0.5em}body div.zettel-view .zettel-content h3{margin:0px 0px 0.4em 0px}body div.zettel-view .zettel-content h4{opacity:0.8}body div.zettel-view .zettel-content div#footnotes{margin-top:4em;border-top-style:groove;border-top-width:2px;font-size:0.9em}body div.zettel-view .zettel-content div#footnotes ol > li > p:only-of-type{display:inline;margin-right:0.5em}body div.zettel-view .zettel-content aside.footnote-inline{width:30%;padding-left:15px;margin-left:15px;float:right;background-color:#d3d3d3}body div.zettel-view .zettel-content .overflows{overflow:auto}body div.zettel-view .zettel-content code{margin:auto auto auto auto;font-size:100%}body div.zettel-view .zettel-content p code, li code, ol code{padding:0.2em 0.2em 0.2em 0.2em;background-color:#f5f2f0}body div.zettel-view .zettel-content pre{overflow:auto}body div.zettel-view .zettel-content dl dt{font-weight:bold}body div.zettel-view .zettel-content blockquote{background-color:#f9f9f9;border-left:solid 10px #cccccc;margin:1.5em 0px 1.5em 0px;padding:0.5em 10px 0.5em 10px}body div.zettel-view .zettel-content.raw{background-color:#dddddd}body .ui.label.zettel-tag{color:#000000}body .ui.label.zettel-tag a{color:#000000}body nav.bottomPane ul.backlinks > li{padding-bottom:0.4em;list-style-type:disc}body nav.bottomPane ul.context-list > li{list-style-type:lower-roman}body .footer-version img{-webkit-filter:grayscale(100%);-moz-filter:grayscale(100%);-ms-filter:grayscale(100%);-o-filter:grayscale(100%);filter:grayscale(100%)}body .footer-version img:hover{-webkit-filter:grayscale(0%);-moz-filter:grayscale(0%);-ms-filter:grayscale(0%);-o-filter:grayscale(0%);filter:grayscale(0%)}body .footer-version, .footer-version a, .footer-version a:visited{color:#808080}body .footer-version a{font-weight:bold}body .footer-version{margin-top:1em !important;font-size:0.69999em}@media only screen and (max-width: 768px){body div#zettel-container{margin-left:0.4em !important;margin-right:0.4em !important}}body span.zettel-link-container span.zettel-link a{color:#a5673f;font-weight:bold;text-decoration:none}body span.zettel-link-container span.zettel-link a:hover{background-color:rgba(165,103,63,0.1)}body span.zettel-link-container span.extra{color:auto}body span.zettel-link-container.errors{border:solid 1px #ff0000}body span.zettel-link-container.errors span.zettel-link a:hover{text-decoration:none !important;cursor:not-allowed}body [data-tooltip]:after{font-size:0.69999em}body div.tag-tree div.node{font-weight:bold}body div.tag-tree div.node a.inactive{color:#555555}body .tree.flipped{-webkit-transform:rotate(180deg);-moz-transform:rotate(180deg);-ms-transform:rotate(180deg);-o-transform:rotate(180deg);transform:rotate(180deg)}body .tree{overflow:auto}body .tree ul.root{padding-top:0px;margin-top:0px}body .tree ul{position:relative;padding:1em 0px 0px 0px;white-space:nowrap;margin:0px auto 0px auto;text-align:center}body .tree ul::after{content:"";display:table;clear:both}body .tree ul:last-child{padding-bottom:0.1em}body .tree li{display:inline-block;vertical-align:top;text-align:center;list-style-type:none;position:relative;padding:1em 0.5em 0em 0.5em}body .tree li::before{content:"";position:absolute;top:0px;right:50%;border-top:solid 2px #cccccc;width:50%;height:1.19999em}body .tree li::after{content:"";position:absolute;top:0px;right:50%;border-top:solid 2px #cccccc;width:50%;height:1.19999em}body .tree li::after{right:auto;left:50%;border-left:solid 2px #cccccc}body .tree li:only-child{padding-top:0em}body .tree li:only-child::after{display:none}body .tree li:only-child::before{display:none}body .tree li:first-child::before{border-style:none;border-width:0px}body .tree li:first-child::after{border-radius:5px 0px 0px 0px}body .tree li:last-child::after{border-style:none;border-width:0px}body .tree li:last-child::before{border-right:solid 2px #cccccc;border-radius:0px 5px 0px 0px}body .tree ul ul::before{content:"";position:absolute;top:0px;left:50%;border-left:solid 2px #cccccc;width:0px;height:1.19999em}body .tree li div.forest-link{border:solid 2px #cccccc;padding:0.2em 0.29999em 0.2em 0.29999em;text-decoration:none;display:inline-block;border-radius:5px 5px 5px 5px;color:#333333;position:relative;top:2px}body .tree.flipped li div.forest-link{-webkit-transform:rotate(180deg);-moz-transform:rotate(180deg);-ms-transform:rotate(180deg);-o-transform:rotate(180deg);transform:rotate(180deg)}</style><script async="" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.23.0/themes/prism.min.css" rel="stylesheet" /><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.23.0/components/prism-core.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.23.0/plugins/autoloader/prism-autoloader.min.js"></script><!--replace-end-7--><!--replace-end-4--><!--replace-end-1--></head><body><div class="ui fluid container universe"><!--replace-start-2--><!--replace-start-3--><!--replace-start-6--><div class="ui text container" id="zettel-container" style="position: relative"><div class="zettel-view"><article class="ui raised attached segment zettel-content"><div class="pandoc"><h1 id="title-h1">Account View On UTXO Model (AVOUM)</h1><p>Source: <a href="https://docs.google.com/document/d/12atK0oEME0y1GHo_HmqhrcZ3pQeEqB_0tFKknhsjsLY/edit">https://docs.google.com/document/d/12atK0oEME0y1GHo_HmqhrcZ3pQeEqB_0tFKknhsjsLY/edit</a></p><h2 id="why-is-this-needed">Why is this needed?</h2><ol><li><p>DoS attacks mean that a malicious party could race you, paying more transaction fees each time, to get their transaction which consumes the UTXO in before yours, although the intended semantics of the contract seem to assert that your transaction should be favoured.</p><p>For instance, given an auction contract, and two parties - Alice and Bob, suppose Alice was honest, and submitted a bid for 1ADA. Bob could watch the UTXO, submitting a bid in increments of 0.1ADA each time anyone makes a bid along with a high transaction fee. This would enable Bob to get their transaction in first, and beat all other competitors, although their auction bid was lower.</p><p>In Account model, this is not a problem, since transactions simply operate on the existing state, rather than an explicit state supplied by the user.</p></li><li><p>Inconvenience of having to resubmit transactions again and again, until they are accepted, under UTXO model. Why? In UTXO, burden of ensuring the TX goes through lies with the user, the state must be provided by the current user. If someone consumes UTXO before you, and their TX gets favoured - you need to resubmit your TX again, with the new state. This becomes a very real problem for heavily used contracts, since there will be heavy contention and frequent change to the associated UTXO(s).</p><p>In Account model, TX just gets run on current state, users can just fire and forget.</p></li></ol><h2 id="what-is-the-solution">What is the solution?</h2><p>Well we could have some technically sophisticated users, these users would be able to watch the blockchain at high-speed, and race all relevant rival transactions, in servers close to the miners.</p><p>Eventually we will have a market where sophisticated professionals will compete with each other to be the one who effectively posts the transaction.</p><p>A sophisticated professional will be able to ensure users’ transactions get through in a timely fashion to interact with frequently changing contracts.</p><p>High fees for these services would likely attract competition, until a market emerges, where sophisticated users compete to earn fees from users, driving those fees down.</p><p>Eventually miners would realize they could cut out the middleman between end-users and the blockchain by running those servers directly on their mining rigs, saving a lot in fees and network traffic for everyone.</p><p>How would this work? Transactions should be malleable, i.e. there are certain dynamic parts, specifically the UTXO, which should be able to be changed, with certain constraints.</p><p>Miners would then take on the responsibility of substituting the most recent contract UTXO for the one they posted.</p><p>Hence the blockchain will behave exactly as though it had an Account/Balance model.</p><h2 id="what-is-all-this-competition-for">What is all this competition for?</h2><p>It is for blockchain space, who gets their transaction in. Space is limited, with scarcity, there becomes value. For instance block size limits, gas limit or implicitly via network bandwidth of winning miners.</p><p>Why? Now, the auction for blockchain space is a first price auction, since a second price auction would be gameable by miners. This is because miners can spend much less.</p><p>To support “account view” semantics, we will need a convention for assigning a persistent identifier to “the same” cell across transactions; we propose using the pair of (type script, first 32 bytes of cell data) for this purpose. The type scripts themselves can ensure that this pair is globally unique. We call these persistent identifiers “account ids,” and the chains of cells that they identify are “accounts.”</p><p>To clarify: Exactly one account id corresponds to one cell right? Not a chain of cells.</p><h2 id="miners-and-validators">Miners and validators</h2><ul><li><p>UTXOs (<span class="zettel-link-container cf"><span class="zettel-link" title="2021-06-28T19:51"><a href="6fbf22c0.html">Unspent Transaction outputs (UTXO)</a></span></span>) allow you to parallelize the processing of transactions, since you can verify multiple UTXOs against their validator scripts in parallel. Consuming and producing UTXOs can be done in parallel.</p></li><li><p>Ethereum requires you to sequence transactions, since all of them operate on a single global state of accounts. To update the state you would have to do so in sequence.</p></li></ul><h2 id="open-contracts">Open contracts</h2><ul><li><p>On the user side, account model allows you to fire and forget, since miners will just use the tx on the existing state.</p></li><li><p>On the other side, UTXOs will require clients to watch their transactions, if UTXOs get consumed, their transactions may no longer be valid, and they have to repeatedly send txs until one gets through</p></li></ul></div><div class="metadata"><div class="date" title="Zettel date"><time datetime="2021-09-21T23:07">2021-09-21</time></div></div></article><nav class="ui attached segment deemphasized bottomPane" id="neuron-tags-pane"><div><span class="ui basic label zettel-tag" title="Tag">stub</span></div></nav><nav class="ui bottom attached icon compact inverted menu brown" id="neuron-nav-bar"><!--replace-start-9--><a class="item" href="." title="Home"><i class="home icon"></i></a><!--replace-end-9--><a class="item" href="https://github.com/kwannoel/mind/edit/master/./0d13b007.md" title="Edit this page"><i class="edit icon"></i></a><a class="right item" href="impulse.html" title="Open Impulse"><i class="wave square icon"></i></a></nav></div></div><!--replace-end-6--><!--replace-end-3--><!--replace-end-2--><div class="ui center aligned container footer-version"><div class="ui tiny image"><a href="https://neuron.zettel.page"><img alt="logo" src="https://raw.githubusercontent.com/srid/neuron/master/assets/neuron.svg" title="Generated by Neuron 1.9.35.3" /></a></div></div></div></body></html>